{% extends "base.html" %}
{% block content %}

<div class="hero">
  <h1>NHL Showdown (DraftKings)</h1>
  <p>Build CPT + 5 FLEX lineups with ownership, chalk/sneaky tiers, and contest-style strategy.</p>
</div>

<div class="grid two">
  <div class="card">
    <div class="card-h">
      <div>
        <h2>Settings</h2>
        <p>Choose contest type + lineup count. Higher uniqueness means more variety but can reduce feasible builds.</p>
      </div>
    </div>

    <div class="card-b">
      <form class="form" method="POST"
            onsubmit="window.showLoading('Building NHL Showdown lineups…','Pulling the latest slate + optimizing CPT/FLEX builds.');">

        <div class="row2">
          <div>
            <label>Contest Type</label>
            <select name="contest_type">
              <option value="cash">Cash / H2H</option>
              <option value="gpp_small">GPP Small / Single</option>
              <option value="gpp_medium">GPP Medium</option>
              <option value="gpp_large" selected>GPP Large (MME)</option>
            </select>
            <span class="hint">Changes chalk/sneaky targets + ownership penalty.</span>
          </div>

          <div>
            <label>Lineups</label>
            <input name="num_lineups" type="number" min="1" max="150" value="20"/>
            <span class="hint">Up to 150 supported (slate feasibility varies).</span>
          </div>
        </div>

        <div class="row2">
          <div>
            <label>Min Unique</label>
            <input name="min_unique" type="number" min="0" max="8" value="2"/>
            <span class="hint">How many players must differ from each previous lineup.</span>
          </div>

          <div>
            <label>Min Salary Spend</label>
            <input name="min_salary" type="number" min="0" max="50000" value="48000"/>
            <span class="hint">Keeps builds from leaving too much salary on the table.</span>
          </div>
        </div>

        <div class="row2">
          <div>
            <label>Randomness</label>
            <input name="randomness" type="number" step="0.1" min="0" max="3" value="1.0"/>
            <span class="hint">Higher = more variety, slightly less “optimal”.</span>
          </div>

          <div style="display:flex; align-items:flex-end;">
            <button class="btn" type="submit" style="width:100%;">Build Showdown Lineups</button>
          </div>
        </div>

        <div class="footer-note">
          CPT uses 1.5x salary + 1.5x projection.
          Ownership is projected from your slate stats (projection, salary, lines, implied score, total, recent form/value).
        </div>
      </form>
    </div>
  </div>

  <div class="card">
    <div class="card-h">
      <div>
        <h2>How it plays</h2>
        <p>Quick guide to the contest types.</p>
      </div>
    </div>
    <div class="card-b">
      <div class="footer-note">
        <strong>Cash:</strong> more chalk, safer builds.<br/>
        <strong>GPP Small:</strong> balanced chalk + 1+ lower-owned pieces.<br/>
        <strong>GPP Medium:</strong> pushes leverage harder (more sneaky).<br/>
        <strong>GPP Large:</strong> highest leverage + diversity.
      </div>
    </div>
  </div>
</div>

{% endblock %}
